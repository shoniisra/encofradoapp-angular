{"version":3,"file":null,"sources":["../src/create.js","../src/index.js"],"sourcesContent":["let objectCreate;\nif (typeof Object.create != 'function') {\n    objectCreate = (function(undefined) {\n    var Temp = function() {};\n    return function (prototype, propertiesObject) {\n      if(prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if(prototype === null) {\n         result.__proto__ = null;\n      }\n      return result;\n    };\n  })();\n}else{\n    objectCreate = Object.create;\n}\n\nexport default objectCreate;\n","import objectCreate from './create';\n\nconst mouseEventProps = [\n    'altKey',\n    'button',\n    'buttons',\n    'clientX',\n    'clientY',\n    'ctrlKey',\n    'metaKey',\n    'movementX',\n    'movementY',\n    'offsetX',\n    'offsetY',\n    'pageX',\n    'pageY',\n    'region',\n    'relatedTarget',\n    'screenX',\n    'screenY',\n    'shiftKey',\n    'which',\n    'x',\n    'y'\n];\n\nexport default function createDispatcher(element){\n\n    let defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if(element !== undefined){\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e){\n        for(let i=0; i<mouseEventProps.length; i++){\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    const dispatch = (()=>{\n        if(MouseEvent){\n            return function m1(element, initMove, data){\n                let evt = new MouseEvent(\n                    'mousemove',\n                    createMoveInit(defaultSettings, initMove)\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }else if(typeof document.createEvent === 'function'){\n            return function m2(element, initMove, data){\n                let settings = createMoveInit(defaultSettings, initMove);\n                let evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\n                    \"mousemove\",\n                    true,   //can bubble\n                    true,   //cancelable\n                    window, //view\n                    0,      //detail\n                    settings.screenX,           //0, //screenX\n                    settings.screenY,           //0, //screenY\n                    settings.clientX,           //80, //clientX\n                    settings.clientY,           //20, //clientY\n                    settings.ctrlKey,           //false, //ctrlKey\n                    settings.altKey,            //false, //altKey\n                    settings.shiftKey,          //false, //shiftKey\n                    settings.metaKey,           //false, //metaKey\n                    settings.button,            //0, //button\n                    settings.relatedTarget      //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }else if(typeof document.createEventObject === 'function'){\n            return function m3(element, initMove, data){\n                let evt = document.createEventObject();\n                let settings = createMoveInit(defaultSettings, initMove);\n                for(let name in settings){\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    })();\n\n    function destroy(){\n        if(element)\n            element.removeEventListener('mousemove', onMove, false);\n        defaultSettings = null;\n    }\n\n    return {\n        destroy,\n        dispatch\n    };\n}\n\n\n\nfunction createMoveInit(defaultSettings, initMove){\n    initMove = initMove || {};\n    let settings = objectCreate(defaultSettings);\n    for(let i=0; i<mouseEventProps.length; i++){\n        if(initMove[mouseEventProps[i]] !== undefined)\n            settings[mouseEventProps[i]] = initMove[mouseEventProps[i]];\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data){\n    console.log('data ',data)\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\n/*\nhttp://marcgrabanski.com/simulating-mouse-click-events-in-javascript/\n*/\n"],"names":["objectCreate","Object","create","undefined","Temp","prototype","propertiesObject","TypeError","result","defineProperties","__proto__","mouseEventProps","createDispatcher","element","defaultSettings","addEventListener","onMove","e","i","length","dispatch","MouseEvent","m1","initMove","data","evt","createMoveInit","dispatchEvent","document","createEvent","m2","settings","initMouseEvent","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","createEventObject","m3","name","destroy","removeEventListener","setSpecial","log","dispatched"],"mappings":"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"}