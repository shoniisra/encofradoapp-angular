!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ngx-loading-bar/core",["exports","@angular/core","rxjs","rxjs/operators","@angular/common"],t):t((e["ngx-loading-bar"]=e["ngx-loading-bar"]||{},e["ngx-loading-bar"].core={}),e.ng.core,e.rxjs,e.rxjs.operators,e.ng.common)}(this,function(e,t,i,n,r){"use strict";var o=function(){function e(e){this.platformId=e,this.progress$=(new i.Subject).pipe(n.debounceTime(0)),this._pendingRequests=0,this._value=0}return e.prototype.start=function(e){void 0===e&&(e=2),++this._pendingRequests,0!==this._value&&1!==this._pendingRequests||this.set(1===this._pendingRequests&&0<this._value?this._value:e)},e.prototype.stop=function(){for(this.complete();0<this._pendingRequests;)this.complete()},e.prototype.complete=function(){var e=this;0===this._pendingRequests&&0===this._value||(0<this._pendingRequests&&--this._pendingRequests,(0===this._pendingRequests||0===this._pendingRequests&&0<this._value)&&(100!==this._value&&this.set(100),setTimeout(function(){return e.set(0)},500)))},e.prototype.set=function(e){var t=this;r.isPlatformBrowser(this.platformId)?(0===e&&0<this._pendingRequests&&(e=2),this._value=e,this.progress$.next(e),0!==this._pendingRequests&&(clearTimeout(this._incTimeout),0<this._value&&this._value<100&&(this._incTimeout=setTimeout(function(){return t.increment()},250)))):this._pendingRequests=0},e.prototype.increment=function(e){void 0===e&&(e=0),0<e&&this.set(this._value+e);var t=this._value;e=0<=t&&t<25?3*Math.random()+3:25<=t&&t<65?3*Math.random():65<=t&&t<90?2*Math.random():90<=t&&t<99?.5:0,this.set(this._value+e)},e.prototype.ngOnDestroy=function(){this.progress$.complete()},e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e(t.inject(t.PLATFORM_ID))},token:e,providedIn:"root"}),e}(),s=function(){function e(e){this.loader=e,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.value=null}return e.decorators=[{type:t.Component,args:[{selector:"ngx-loading-bar",template:'\n    <ng-container *ngIf="(value !== null ? value : loader.progress$|async) as progress">\n      <div id="loading-bar-spinner" *ngIf="includeSpinner" [style.color]="color">\n        <div [style.width]="diameter" [style.height]="diameter" class="spinner-icon"></div>\n      </div>\n      <div id="loading-bar" *ngIf="includeBar" [style.color]="color">\n        <div class="bar" [style.background]="color" [style.height]="height" [style.width]="progress + \'%\'">\n          <div class="peg" [style.height]="height"></div>\n        </div>\n      </div>\n    </ng-container>\n  ',preserveWhitespaces:!1,encapsulation:t.ViewEncapsulation.Emulated,host:{"[class.loading-bar-fixed]":"fixed"},styles:[":host{position:relative;display:block}:host.loading-bar-fixed>div .bar{position:fixed}:host.loading-bar-fixed>div#loading-bar-spinner{position:fixed;top:10px;left:10px}[dir=rtl] :host.loading-bar-fixed>div#loading-bar-spinner{right:10px;left:unset}:host.loading-bar-fixed>div .peg{display:block}:host>div{pointer-events:none;transition:350ms linear;color:#29d}:host>div .bar{transition:width 350ms;background:#29d;position:absolute;z-index:10002;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl] :host>div .bar{right:0;left:unset}:host>div .peg{display:none;position:absolute;width:70px;right:0;top:0;height:2px;opacity:.45;box-shadow:1px 0 6px 1px;color:inherit;border-radius:100%}:host>div#loading-bar-spinner{display:block;position:absolute;z-index:10002;top:5px;left:0}:host>div#loading-bar-spinner .spinner-icon{width:14px;height:14px;border:2px solid transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:.4s linear infinite loading-bar-spinner;animation:.4s linear infinite loading-bar-spinner}@-webkit-keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]}]}],e.ctorParameters=function(){return[{type:o}]},e.propDecorators={includeSpinner:[{type:t.Input}],includeBar:[{type:t.Input}],fixed:[{type:t.Input}],color:[{type:t.Input}],height:[{type:t.Input}],diameter:[{type:t.Input}],value:[{type:t.Input}]},e}(),a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule],declarations:[s],exports:[s]}]}],e}();e.LoadingBarModule=a,e.LoadingBarComponent=s,e.LoadingBarService=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-loading-bar-core.umd.min.js.map