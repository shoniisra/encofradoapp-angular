{"version":3,"file":"ngx-loading-bar-router.umd.js.map","sources":["ng://@ngx-loading-bar/router/router.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Router, NavigationStart, NavigationError, NavigationEnd, NavigationCancel } from '@angular/router';\nimport { LoadingBarModule, LoadingBarService } from '@ngx-loading-bar/core';\n\n@NgModule({\n  imports: [\n    RouterModule,\n    LoadingBarModule,\n  ],\n  exports: [\n    RouterModule,\n    LoadingBarModule,\n  ],\n})\nexport class LoadingBarRouterModule {\n  constructor(router: Router, loadingBar: LoadingBarService) {\n    router.events.subscribe(event => {\n      const state = this.getCurrentNavigationState(router);\n      if (state && state.ignoreLoadingBar) {\n        return;\n      }\n\n      if (event instanceof NavigationStart) {\n        loadingBar.start();\n      }\n\n      if ((event instanceof NavigationError || event instanceof NavigationEnd || event instanceof NavigationCancel)) {\n        loadingBar.complete();\n      }\n    });\n  }\n\n  private getCurrentNavigationState(router: any) {\n    // `getCurrentNavigation` only available in angular `7.2`\n    const currentNavigation = router.getCurrentNavigation && router.getCurrentNavigation();\n    if (currentNavigation && currentNavigation.extras) {\n      return currentNavigation.extras.state;\n    }\n\n    return {};\n  }\n}\n"],"names":["router","NavigationStart","NavigationError","NavigationEnd","NavigationCancel","NgModule","RouterModule","LoadingBarModule","Router","LoadingBarService"],"mappings":";;;;;;;;;;AAAA;QAeE,gCAAYA,SAAc,EAAE,UAA6B;YAAzD,iBAeC;YAdCA,SAAM,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,KAAK;;oBACrB,KAAK,GAAG,KAAI,CAAC,yBAAyB,CAACA,SAAM,CAAC;gBACpD,IAAI,KAAK,IAAI,KAAK,CAAC,gBAAgB,EAAE;oBACnC,OAAO;iBACR;gBAED,IAAI,KAAK,YAAYC,sBAAe,EAAE;oBACpC,UAAU,CAAC,KAAK,EAAE,CAAC;iBACpB;gBAED,KAAK,KAAK,YAAYC,sBAAe,IAAI,KAAK,YAAYC,oBAAa,IAAI,KAAK,YAAYC,uBAAgB,GAAG;oBAC7G,UAAU,CAAC,QAAQ,EAAE,CAAC;iBACvB;aACF,CAAC,CAAC;SACJ;;;;;;QAEO,0DAAyB;;;;;YAAjC,UAAkCJ,SAAW;;;oBAErC,iBAAiB,GAAGA,SAAM,CAAC,oBAAoB,IAAIA,SAAM,CAAC,oBAAoB,EAAE;gBACtF,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,EAAE;oBACjD,OAAO,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC;iBACvC;gBAED,OAAO,EAAE,CAAC;aACX;;oBApCFK,aAAQ,SAAC;wBACR,OAAO,EAAE;4BACPC,mBAAY;4BACZC,uBAAgB;yBACjB;wBACD,OAAO,EAAE;4BACPD,mBAAY;4BACZC,uBAAgB;yBACjB;qBACF;;;;;wBAZsBC,aAAM;wBACFC,wBAAiB;;;QAuC5C,6BAAC;KArCD;;;;;;;;;;;;;;;;;;;;;;"}
