{"version":3,"file":"ngx-take-until-destroy.umd.js.map","sources":["ng://ngx-take-until-destroy/src/take-until-destroy.ts"],"sourcesContent":["import { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nexport const untilDestroyed = (\n  componentInstance,\n  destroyMethodName = 'ngOnDestroy'\n) => <T>(source: Observable<T>) => {\n  const originalDestroy = componentInstance[destroyMethodName];\n  if (isFunction(originalDestroy) === false) {\n    throw new Error(\n      `${\n        componentInstance.constructor.name\n      } is using untilDestroyed but doesn't implement ${destroyMethodName}`\n    );\n  }\n  if (!componentInstance['__takeUntilDestroy']) {\n    componentInstance['__takeUntilDestroy'] = new Subject();\n\n    componentInstance[destroyMethodName] = function() {\n      isFunction(originalDestroy) && originalDestroy.apply(this, arguments);\n      componentInstance['__takeUntilDestroy'].next(true);\n      componentInstance['__takeUntilDestroy'].complete();\n    };\n  }\n  return source.pipe(takeUntil<T>(componentInstance['__takeUntilDestroy']));\n};\n"],"names":["Subject","takeUntil"],"mappings":";;;;;;;;;;AAAA;;;;IAGA,oBAAoB,KAAK;QACvB,OAAO,OAAO,KAAK,KAAK,UAAU,CAAC;KACpC;;AAED,QAAa,cAAc,GAAG,UAC5B,iBAAiB,EACjB,iBAAiC;QAAjC,kCAAA;YAAA,iCAAiC;;QAC9B,OAAA,UAAI,MAAqB;;YAC5B,IAAM,eAAe,GAAG,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;YAC7D,IAAI,UAAU,CAAC,eAAe,CAAC,KAAK,KAAK,EAAE;gBACzC,MAAM,IAAI,KAAK,CAEX,iBAAiB,CAAC,WAAW,CAAC,IAAI,uDACc,iBAAmB,CACtE,CAAC;aACH;YACD,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,EAAE;gBAC5C,iBAAiB,CAAC,oBAAoB,CAAC,GAAG,IAAIA,YAAO,EAAE,CAAC;gBAExD,iBAAiB,CAAC,iBAAiB,CAAC,GAAG;oBACrC,UAAU,CAAC,eAAe,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;oBACtE,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACnD,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,QAAQ,EAAE,CAAC;iBACpD,CAAC;aACH;YACD,OAAO,MAAM,CAAC,IAAI,CAACC,mBAAS,CAAI,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;SAC3E;IAnBI,CAmBJ;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
