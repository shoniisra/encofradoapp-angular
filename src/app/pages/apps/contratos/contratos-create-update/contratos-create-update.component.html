<div @stagger class="p-gutter" vexContainer>
  <h2 class="title mt-6 mb-4" fxLayout="row" fxLayoutAlign="start center">
    <span
      @scaleIn
      [style.background-color]="theme.colors.primary['500'] | colorFade: 0.9"
      class="w-10 h-10 rounded-full text-primary-500 mr-3 flex items-center justify-center"
    >
      <ic-icon [icon]="icVerticalSplit" height="20px" width="20px"></ic-icon>
    </span>
    <span @fadeInRight class="block">Nuevo Contrato</span>
  </h2>

  <div @fadeInUp class="card overflow-hidden">
    <mat-vertical-stepper #verticalStepper="matVerticalStepper" [linear]="true">
      <ng-template matStepperIcon="edit">
        <mat-icon [icIcon]="icDoneAll"></mat-icon>
      </ng-template>

      <ng-template matStepperIcon="done">
        <mat-icon [icIcon]="icDoneAll"></mat-icon>
      </ng-template>

      <mat-step [stepControl]="verticalAccountFormGroup">
        <form [formGroup]="verticalAccountFormGroup">
          <ng-template matStepLabel>Elige un Cliente</ng-template>

          <div class="title m-0">Agrega un Cliente</div>
          <div class="subheading-1">
            Busca al cliente por su cédula, y si no exíste registra uno
          </div>

          <div class="mt-4" fxLayout="column" fxLayoutGap="8px">
            <mat-form-field fxFlex="auto">
              <mat-label>Id Cliente</mat-label>
              <input formControlName="username" matInput required />
              <mat-hint>Este es el nombre que se asociará al contrato</mat-hint>
            </mat-form-field>
          </div>

          <div
            class="actions"
            fxLayout="row"
            fxLayoutAlign="end center"
            fxLayoutGap="8px"
          >
            <button
              (click)="verticalStepper.reset()"
              [disabled]="verticalAccountFormGroup.pristine"
              color="primary"
              mat-button
              type="button"
            >
              RESET
            </button>
            <button
              [disabled]="verticalAccountFormGroup.invalid"
              color="primary"
              mat-raised-button
              matStepperNext
              (click)="submit1()"
            >
              NEXT
            </button>
          </div>
        </form>
      </mat-step>

      <mat-step [stepControl]="verticalContratoFormGroup">
        <form [formGroup]="verticalContratoFormGroup">
          <ng-template matStepLabel>Datos Basicos del Contrato</ng-template>

          <div class="title m-0">
            Esta informacion es la cabecera del contrato
          </div>
          <div class="subheading-1">
            llena esta información
          </div>

          <div class="mt-4" fxLayout="column" fxLayoutGap="8px">
            <mat-form-field fxFlex="auto">
              <mat-label>numero</mat-label>
              <input formControlName="numero" matInput required />
              <mat-hint>numero contrato</mat-hint>
            </mat-form-field>

            <mat-form-field fxFlex="auto">
              <mat-label>fecha</mat-label>
              <input formControlName="fecha" matInput required type="date" />
              <mat-hint>fecha del contrato</mat-hint>
            </mat-form-field>
            <mat-form-field fxFlex="auto">
              <mat-label>lugar_obra</mat-label>
              <input formControlName="lugar_obra" matInput required />
              <mat-hint>lugar_obra</mat-hint>
            </mat-form-field>

            <mat-form-field fxFlex="auto">
              <mat-label>observacion</mat-label>
              <input formControlName="observacion" matInput required />
              <mat-hint>observacion</mat-hint>
            </mat-form-field>

            <mat-form-field fxFlex="auto">
              <mat-label>estado_id</mat-label>
              <input formControlName="estado_id" matInput required />
              <mat-hint>estado_id</mat-hint>
            </mat-form-field>

            <div
              fxLayout="column"
              fxLayout.gt-xs="row"
              fxLayoutGap="8px"
              fxLayoutGap.gt-xs="24px"
            >
              <div fxFlex="auto" fxLayout="row" fxLayoutGap="8px">
                <mat-form-field class="vex-flex-form-field" fxFlex="none">
                  <mat-label>area</mat-label>
                  <input formControlName="area" matInput required />
                  <mat-hint>area</mat-hint>
                </mat-form-field>

                <mat-form-field class="vex-flex-form-field" fxFlex="none">
                  <mat-label>metros</mat-label>
                  <input formControlName="metraje" matInput required />
                  <mat-hint>metros</mat-hint>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div
            class="actions"
            fxLayout="row"
            fxLayoutAlign="end center"
            fxLayoutGap="8px"
          >
            <button
              (click)="verticalStepper.reset()"
              [disabled]="verticalContratoFormGroup.pristine"
              color="primary"
              mat-button
              type="button"
            >
              RESET
            </button>
            <button
              [disabled]="verticalContratoFormGroup.invalid"
              color="primary"
              mat-raised-button
              matStepperNext
              (click)="submit1()"
            >
              NEXT
            </button>
          </div>
        </form>
      </mat-step>

      <mat-step [stepControl]="verticalConfirmFormGroup">
        <form [formGroup]="verticalConfirmFormGroup">
          <ng-template matStepLabel>Confirm Creation</ng-template>

          <div class="title m-0">You're almost there!</div>
          <div class="subheading-1">
            To finish registration, accept our terms of service and click on
            "Create Account".
          </div>

          <div class="mt-4" fxLayout="column" fxLayoutGap="8px">
            <mat-checkbox class="checkbox" formControlName="terms">
              I agree to the terms of service and the usual stuff. *
            </mat-checkbox>
          </div>

          <div
            class="actions"
            fxLayout="row"
            fxLayoutAlign="end center"
            fxLayoutGap="8px"
          >
            <button color="primary" mat-button matStepperPrevious type="button">
              PREVIOUS
            </button>
            <button
              (click)="submit()"
              [disabled]="verticalConfirmFormGroup.invalid"
              color="primary"
              mat-raised-button
              matStepperNext
            >
              CREATE ACCOUNT
            </button>
          </div>
        </form>
      </mat-step>
    </mat-vertical-stepper>
  </div>
</div>
